---
import Layout from "./Layout.astro";
import MoodBadge from "../components/MoodBadge.astro";
import { type Frontmatter } from "../lib/diary";

const { frontmatter } = Astro.props;
const { title, date, minutesRead, mood }: Frontmatter = frontmatter;
---

<Layout title={"axseem - " + title}>
	<div class="max-w-48 w-full flex flex-col gap-3">
		<div
			class="text-neutral-400 py-1 flex gap-1 border-b border-neutral-800 sticky top-0 bg-black z-10"
		>
			<a target="_self" href="/">axseem</a>
			<span> / </span>
			<a target="_self" href={"/" + Astro.url.pathname.split("/").at(-3)}
				>{Astro.url.pathname.split("/").at(-3)}</a
			>
			<span> / </span>
			<span class="text-neutral-50 truncate"
				>{Astro.url.pathname.split("/").at(-2)}</span
			>
		</div>
		<div class="flex flex-col gap-0.5">
			<h1>{title}</h1>
			<div class="flex flex-col md:flex-row md:items-center items-start gap-1">
				<p class="text-neutral-400">
					{date} - {minutesRead}
				</p>
				{mood && <MoodBadge mood={mood} />}
			</div>
		</div>
		<div class="flex flex-col gap-1">
			<base target="_blank" />
			<slot />
		</div>
	</div>
</Layout>
